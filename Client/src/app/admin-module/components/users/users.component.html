<div
  class="container-fluid justify-content-center mt-0 mb-0 pt-1 pt-xl-0 pb-2 pb-md-0 shadow-lg col-xs-12 col-lg-12"
>
  <div class="jumbotron-fluid mx-0 px-0 mt-1 mt-xl-0 pt-3 pt-xl-0 mb-0 pb-0">
    <div class="head-container container my-1 mx-auto px-auto pt-0 pb-2 shadow-lg">
      <div class="row">
        <div class="col-12">
          <h3 class="rub-head4 text-info text-center font-weight-bold py-1">
            USERS
          </h3>
          <hr class="mt-0" />
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-6 col-xl-7">
          <div class="mt-1 mt-xl-0 pt-xl-0 mb-2 mx-0 pl-0 pl-xl-2">
            <input
              type="text"
              name=""
              formControlName="search_text"
              class="form-control col-12 col-sm-7 col-md-11 col-xl-6"
              (input)="getValue($event)"
              id="name"
              placeholder="Search"
              autocomplete="on"
            />
          </div>
        </div>
        <div
          class="col-12 col-md-6 col-xl-5 mx-0 pt-1 px-0 px-sm-5 px-md-0 pl-lg-5"
        >
          <button
            class="btn btn-primary mt-1 ml-1 ml-sm-5 mx-md-1 ml-xl-5"
            tooltip="Export to Excel"
            (click)="exportToExcel()"
          >
            <i class="fas fa-file-export"></i> Export
          </button>

          <button
            class="btn btn-info mt-1 ml-1 ml-sm-3 mx-md-1"
            tooltip="Loggedin Users"
            (click)="loggedInUsers()"
          >
            <i class="fas fa-user-check"></i>Loggedin
          </button>
          <button
            class="btn btn-info mt-1 ml-1 ml-sm-3 mx-md-1"
            tooltip="Approve users"
            (click)="approveUsers()"
          >
            <i class="fas fa-user-plus"></i> Approve
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 mx-auto px-0 px-sm-3 px-md-0">
        <div
          class="condition"
          *ngIf="checkArrayLength(filteredUsers); else nousers"
        >
          <div class="table-col col-12 py-2">
            <div class="state-table table-responsive">
              <!--table-->
              <table
                class="table table-hover table-striped table-sm"
                #exportTable
              >
                <thead class="bg-dark text-white">
                  <tr class="mx-2">
                    <th width="10%">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userId')"
                      ></i>
                      User ID
                    </th>
                    <th width="25%">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userName')"
                      ></i>
                      Username
                    </th>
                    <th width="15%">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userRole')"
                      ></i>
                      User Role
                    </th>
                    <th width="12%">Contact</th>
                    <th width="26%">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userEmail')"
                      ></i>
                      Email
                    </th>
                    <th width="12%">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    class="mx-2"
                    id="export-table"
                    *ngFor="
                      let user of filteredUsers
                        | orderBy: key:reverse
                        | paginate
                          : {
                              id: 'my_pages',
                              itemsPerPage: pageSize,
                              currentPage: currentPage,
                              totalItems: totalItems
                            };
                      let i = index
                    "
                  >
                    <td>{{ user.userId }}</td>
                    <td>{{ user.userName }}</td>
                    <td>{{ user.fkRoleIdUser }}</td>
                    <td>{{ user.userPhone1 }}</td>
                    <td>{{ user.userEmail }}</td>
                    <td>
                      <button
                        class="btn btn-danger"
                        (click)="deleteUser(user.id, user.name)"
                      >
                        Delete
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <pagination-controls
                id="my_pages"
                (pageChange)="pageChanged($event)"
                (pageBoundsCorrection)="pageChanged($event)"
                directionLinks="true"
              >
              </pagination-controls>
            </div>
          </div>
        </div>
        <ng-template #nousers>
          <div class="col-12 my-5 py-5 justify-content-between">
            <h4 class="text-center text-info">No users!</h4>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>
