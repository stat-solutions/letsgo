<div
  class="container-fluid justify-content-center mt-xl-0 mb-0 pt-1 pt-xl-0 pb-2 shadow-lg col-xs-12"
>
  <div class="jumbotron-fluid mx-0 px-0 mt-1 mt-xl-0 pt-3 pt-xl-0 mb-0 pb-0">
    <div
      class="head-container container my-1 mx-auto px-auto pt-0 pb-2 shadow-lg"
    >
      <div class="row">
        <div class="col-12">
          <h3 class="rub-head4 text-info text-center font-weight-bold py-1">
            APPROVE USERS
          </h3>
          <hr class="mt-0" />
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-6 col-xl-8">
          <div class="mt-1 mt-xl-0 pt-xl-0 mb-2 mx-0 pl-0 pl-xl-2">
            <input
              type="text"
              name=""
              class="form-control col-12 col-sm-7 col-md-11 col-xl-6"
              (input)="getValue($event)"
              id="name"
              placeholder="Search"
              autocomplete="on"
            />
          </div>
        </div>
        <div
          class="col-12 col-md-6 col-xl-4 mx-0 pt-1 px-3 px-sm-5 px-md-4 px-lg-5 px-xl-4"
        >
          <button
            class="btn btn-primary mt-1 ml-1 ml-sm-5 mx-md-1 ml-lg-5 ml-xl-3"
            tooltip="Export to Excel"
          >
            <i class="fas fa-file-export"></i> Export
          </button>
          <button class="btn btn-info mt-1 ml-1 ml-sm-3 mx-md-1" (click)="goToUsers()">
            <i class="fas fa-chevron-left"></i> Back
          </button>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 mx-0 px-0">
        <div *ngIf="users else noUsers">
          <div class="table-col col-12 py-2 mb-0">
            <div class="state-table table-responsive">
              <!--ApproveUsers-->
              <table
                class="table table-hover table-striped table-sm"
                #exportTable
              >
                <thead class="bg-dark text-white">
                  <tr class="mx-2">
                    <th scope="col">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userId')"
                      ></i>
                      User ID
                    </th>
                    <th scope="col">
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userName')"
                      ></i>
                      Username
                    </th>
                    <th>
                      <i
                        class="fas fa-sort pointerCursor"
                        (click)="sort('userEmail')"
                      ></i>
                      Email
                    </th>
                    <th scope="col">Role</th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    class="mx-2"
                    *ngFor="
                      let user of users
                      let i = index
                    "
                  >
                    <td>{{ user.userId }}</td>
                    <td>{{ user.userName.toUpperCase() }}</td>
                    <td>{{ user.userEmail }}</td>
                    <td>
                      <button
                        type="button"
                        class="btn btn-info"
                        tooltip="Assign user role"
                        (click)="approveUser(template, user, i)"
                      >
                        Assign
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
              <!--popup modal-->

              <ng-template #template>
                <div class="modal-header bg-info">
                  <h4 class="modal-title text-white" id="modal-basic-title">
                    Assign Role
                  </h4>
                  <button
                    type="button"
                    class="close pull-right"
                    aria-label="Close"
                    (click)="closeModal()"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="form-group" [formGroup]="userRole">
                    <label for="c">AssignRoleTo</label>
                    <div>
                      <select
                        placeholder="assign role"
                        (change)="assignRole($event)"
                      >
                        <option selected disabled>AssignRole</option>
                        <option [ngValue]="role" *ngFor="let role of roles">
                          {{ role.roleName }}
                        </option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="submit"
                    class="btn btn-info"
                    [disabled]="disableButton"
                    (click)="approvedUser(makeUserApproved, userId, userIndex)"
                  >
                    Approve
                  </button>
                  <button
                    type="submit"
                    (click)="rejectUser(makeUserApproved, userId, userIndex)"
                    class="btn btn-info"
                  >
                    Reject
                  </button>
                </div>
              </ng-template>
              <ngx-spinner></ngx-spinner>
              <ngx-spinner
                class="bg-warning bg-info"
                size="small"
                type="ball-spin"
              >
                <h4 class="text-info">Loading...</h4>
              </ngx-spinner>
              <ngx-alerts></ngx-alerts>

              <div class="row">
                <div class="col" class="text-danger">
                  <!-- <i class="material-icons"></i> -->
                  <ngx-alerts></ngx-alerts>
                </div>
              </div>
              <div class="row">
                <div class="col" class="text-info">
                  <!-- <i class="material-icons">check_circle</i> -->
                  <ngx-alerts></ngx-alerts>
                </div>
              </div>
              <!--popup modal-->
              <!--ApproveUsers-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <ng-template #noUsers>
      <div class="col-12 my-5 py-5 justify-content-between">
        <h4 class="text-center text-info">No unapproved users yet!</h4>
      </div>
    </ng-template>
  </div>
</div>
<ng-template #noApproved>
  <div class="col-12 my-5 py-4 justify-content-between">
    <h4 class="text-center text-info">No Approved users yet!</h4>
  </div>
</ng-template>
<!-- </div>
      </div> -->
