<div
class="container-fluid d-flex flex-row justify-content-center mb-0 mt-md-1 mt-1 pt-0 pt-md-5 pt-xl-1 pb-0 shadow-lg col-xs-12 col-lg-8"
>
  <div class="jumbotron-fluid mx-0 px-0 mt-1 mt-xl-0 pt-3 pt-xl-0 mb-0 pb-0">
    <div class="row">
      <div class="col-12">
        <h3 class="rub-head4 text-info text-center font-weight-bold py-1">
          CREATE BRANCH
        </h3>
        <hr class="mt-0" />
      </div>
    </div>
  <div class="card-body mt-2 pt-3 mt-xl-1 mb-0 mx-auto pb-4 shadow-lg">
    <form [formGroup]="userForm" (ngSubmit)="createBranch()">
      <div class="form-group text-primary">
        <label
          for="branch_name"
          [ngClass]="fval.branch_name.valid ? 'text-info' : ''"
          ><i *ngIf="fval.branch_name.valid" class="material-icons"
            >check_circle</i
          >Branch Name</label
        >
        <div class="input-group mb-0">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i class="fas fa-code-branch text-primary mx-auto" style="size: 50px;">
              </i>
            </div>
          </div>
          <input
            id="branch_name"
            formControlName="branch_name"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (fval.branch_name.touched || fval.branch_name.dirty) &&
                fval.branch_name.errors
            }"
            placeholder="Enter branch name"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (fval.branch_name.touched || fval.branch_name.dirty) &&
            fval.branch_name.errors?.required
          "
        >
          The branch name is required!
        </div>
        <div
        class="text-danger col"
        *ngIf="
          (fval.branch_name.touched || fval.branch_name.dirty) &&
          fval.branch_name.errors?.minlength
        "
      >
        At least two characters required!
      </div>

      </div>
      <!--entity-name-->
       <div class="form-group text-primary">
        <label
          for="position"
          [ngClass]="fval.entityName.valid ? 'text-info' : ''"
          ><i *ngIf="fval.entityName.valid" class="material-icons"
            >check_circle</i
          >Entity Name</label
        >
        <div class="input-group mb-0">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i class="fas fa-cogs text-primary mx-auto" style="size: 50px;">
              </i>
            </div>
          </div>
          <select
          formControlName="entityName"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              (fval.entityName.touched || fval.entityName.dirty) &&
              fval.entityName.errors
          }"
          autocomplete="off"
          placeholder="Select an entity name"
          (change) ="getEntityName($event)"
          required
        >
        <option value="" selected disabled>Select Entity Name</option>
        <option *ngFor="let entity of entity_name" [ngValue]="entity">{{entity}}</option>

        </select>
    </div>
        <div
          class="text-danger col"
          *ngIf="
            (fval.entityName.touched || fval.entityName.dirty) &&
            fval.entityName.errors?.required
          "
        >
          The entity name is required!
        </div>
      </div>

      <!--entity-name-->



      <div class="form-group text-primary">
        <label
          for="district"
          [ngClass]="fval.district.valid ? 'text-info' : ''"
          ><i *ngIf="fval.district.valid" class="material-icons"
            >check_circle</i
          >District</label
        >
        <div class="input-group mb-0">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i class="fas fa-map-marker text-primary mx-auto" style="size: 50px;">
              </i>
            </div>
          </div>
          <input
            id="district"
            formControlName="district"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (fval.district.touched || fval.district.dirty) &&
                fval.district.errors
            }"
            placeholder="Enter district"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (fval.district.touched || fval.district.dirty) &&
            fval.district.errors?.required
          "
        >
          The district is required!
        </div>


      </div>




<div class="form-group text-primary">
        <label for="town" [ngClass]="fval.town.valid ? 'text-info' : ''"
          >Town<i *ngIf="fval.town.valid" class="material-icons"
            >check_circle</i
          ></label
        >
        <div class="input-group mb-0">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i
                class="fas fa-map-marker-alt text-primary mx-auto"
                style="size: 50px;"
              ></i>
            </div>
          </div>
          <input
            id="town"
            formControlName="town"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (fval.town.touched || fval.town.dirty) && fval.town.errors
            }"
            placeholder="Enter town"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (fval.town.touched || fval.town.dirty) &&
            fval.town.errors?.required
          "
        >
          The town is required!
        </div>
      </div>

       <div
          class="text-danger col"
          *ngIf="invalid"
        >
          All fields are required!
        </div>
      <div class="d-flex my-2 py-2 mx-auto">
        <button
          type="submit"
          class="btn btn-info col-5 mx-auto"
        >
          Create
        </button>

        <button
          type="button"
          class="btn btn-info col-5 mx-auto"
          routerLink='/admin/branch'
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
  </div>
</div>
<!-- footer -->
<div class="container mt-3 mt-sm-2 mt-md-3 mb-2 pb-2">
  <div class="col-xs-12 col-lg-12">
    <div class="small text-center text-info">&copy; 2020 - LoanLead</div>
  </div>
</div>
<!-- footer /-->



