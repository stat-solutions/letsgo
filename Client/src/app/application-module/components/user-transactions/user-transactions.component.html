
<div class="container-fluid mb-0 mt-md-1 pt-md-0 pt-3 pb-1  col-xs-12 col-lg-12 ">
    <div>
      <div class="container">
        <div class="row  m-3">
          <div class="col-md-4 colxs-12 col-sm-12 m-2">
          </div>
                   <!--receiveUsers-->
                   <div class="myn m-4 p-3">
                    <!--receivedusers-->
                    <div class="length" *ngIf="checkTransactionsTable(receivedLoans); else noreceived">
                      <!--receivedtable-->
                      <h3 class="text-center" >UserTransactions</h3>
                <!---table->

                  --table-->
                  <table class="table table-bordered m-4">
                     <thead class="table-dark" >
                    <tr>
                      <th>Actions</th>
                      <th scope="col">ID</th>
                      <th scope="col">Customer</th>
                      <th scope="col">Loan Type</th>
                      <th scope="col">Loan Product</th>
                      <th scope="col">Tenure</th>
                      <th scope="col">Amount(shs)</th>
                      <th scope="col">Stage</th>
                      <th scope="col">Status</th>
                      <th scope="col">Loan MovedBy</th>
                      <th scope="col">Stage At</th>
                      <th scope="col">How Long</th>
                      <th scope="col">Created At</th>
                      <th scope="col">Total Age</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let received of filteredReceivedLoans; let i = index">
                      <td>
                        <div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <h4 class="dropdown-item click" (click)="forwardSelected(template, received.Id)">Forward</h4>
    <h4 class="dropdown-item click" (click)="editLoan(edit,received.Id,i)">Edit</h4>
  </div>
</div>
                      </td>
                      <td>{{ received.Id }}</td>
                      <td>{{ received.Customer }}</td>
                      <td>{{ received.LoanType }}</td>
                      <td>{{ received.LoanProduct }}</td>
                      <td>{{ received.Tenure }}</td>
                      <td>{{ received.Amount|number }}</td>
                      <td>{{ received.Stage }}</td>
                      <td>{{ received.Status }}</td>
                      <td>{{ received.LoanMovedBy }}</td>
                      <td>{{ received.StageAt }}</td>
                      <td>{{ received.HowLong }}</td>
                      <td>{{ received.CreatedAt }}</td>
                      <td>{{ received.TotalAge }}</td>
                    </tr>
                  </tbody>
                  </table>
                  <ngx-alerts></ngx-alerts>
                  <!--forward loan--->
            <ng-template #template>
              <div class="modal-header">
                <h4 class="modal-title pull-left">Letshego Uganda Limited</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group" [formGroup]="comment">

                  <label for="c">Comment</label>
                    <textarea name="arae"
                    formControlName="comments"
                    placeholder="loan created"
                    id="" cols="30" rows="10"></textarea>
                </div>
                <div class="form-group" >
                  <button type="submit"
                   class="btn btn-primary"
                   (click)="onSubmit()"
                   [disabled]="comment.invalid"
                  >OK</button>
                </div>
                <div class="form-group" >
                  <button type="submit" class="btn btn-primary"
                  (click)="closeModal()"
                  >Cancel</button>
                </div>
              </div>
        </ng-template>
        <!---edit loan-->
        <ng-template #edit>
              <div class="modal-header">
                <h4 class="modal-title pull-left">Letsgo Uganda Limited</h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <!--edit form-->
              <form [formGroup]="editLoanForm" (ngSubmit)="saveEdit()">
             <!--create a customer modal-->

             <!--create a customer modal-->
      <div class="form-group text-primary">

        <label
          for="customerName"
          [ngClass]="editControls.customerName.valid ? 'text-info' : ''"
          ><i *ngIf="editControls.customerName.valid" class="material-icons"
            >check_circle</i
          >CustomerName</label
        >
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i class="fas fa-user text-primary mx-auto" style="size: 50px;">
              </i>
            </div>
          </div>
          <input
            id="customerName"
            formControlName="customerName"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (editControls.customerName.touched || editControls.customerName.dirty) &&
                editControls.customerName.errors
            }"
            placeholder="Choose Customer"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col click"
          *ngIf="
            (editControls.customerName.touched || editControls.customerName.dirty) &&
            editControls.customerName.errors?.required
          "
        >
          The customerName is required!
        </div>
        <div
        class="text-danger col"
        *ngIf="
          (editControls.customerName.touched || editControls.customerName.dirty) &&
          editControls.customerName.errors?.minlength
        "
      >
        Atleast four character required
      </div>

      </div>

      <div class="form-group text-primary">
        <label
          for="loanType"
          [ngClass]="editControls.loanType.valid ? 'text-info' : ''"
          >LoanType<i
            *ngIf="editControls.loanType.valid"
            class="material-icons"
            >check_circle</i
          ></label
        >
        <div class="input-group mb-1">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i
                class="fas fa-tag text-secondary mx-auto"
                style="size: 50px"
              ></i>
            </div>
          </div>
          <input
            id="loanType"
            formControlName="loanType"
            type="text"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (editControls.loanType.touched || editControls.loanType.dirty) &&
                editControls.loanType.errors?.required
            }"
            placeholder="enter loanType"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (editControls.loanType.touched || editControls.loanType.dirty) &&
            editControls.loanType.errors?.required
          "
        >
          The loanType is required!
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (editControls.loanType.touched || editControls.loanType.dirty) &&
            editControls.loanType.errors?.required
          "
        >
          Please enter valid loanType
        </div>
      </div>
      <!--document_id_number-->

      <!---->


    <div class="form-group text-primary">
        <label
          for="loanProduct"
          [ngClass]="editControls.loanProduct.valid ? 'text-info' : ''"
          >LoanProduct<i
            *ngIf="editControls.loanProduct.valid"
            class="material-icons"
            >check_circle</i
          ></label
        >
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i
                class="fas fa-user text-primary mx-auto"
                style="size: 50px;"
              ></i>
            </div>
          </div>
          <input
            id="loanProduct"
            formControlName="loanProduct"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (editControls.loanProduct.touched ||
                  editControls.loanProduct.dirty) &&
                editControls.loanProduct.errors
            }"
            [ngClass]="setClassInvalid(editControls.loanProduct)"
            placeholder="enter loan product"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (editControls.loanProduct.touched ||
              editControls.loanProduct.dirty) &&
            editControls.loanProduct.errors?.required
          "
        >
          The loan product is required!
        </div>


      </div>
      <!--two-->

    <div class="form-group text-primary">
      <label
        for="tenure"
        [ngClass]="editControls.tenure.valid ? 'text-info' : ''"
        >Tenure<i
          *ngIf="editControls.tenure.valid"
          class="material-icons"
          >check_circle</i
        ></label
      >
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <i
              class="fas fa-user text-primary mx-auto"
              style="size: 50px;"
            ></i>
          </div>
        </div>
        <input
          id="tenure"
          formControlName="tenure"
          type="number"
          required
          class="form-control"
          [ngClass]="setClassInvalid(editControls.tenure)"
          placeholder="tenture"
          autocomplete="off"
        />
      </div>
      <div
        class="text-danger col"
        *ngIf="
          (editControls.tenure.touched ||
            editControls.tenure.dirty) &&
          editControls.tenure.errors?.required
        "
      >
        The tenure is required!
      </div>
    </div>
    <!--amount--->

     <div class="form-group text-primary">
        <label
          for="amount"
          [ngClass]="editControls.amount.valid ? 'text-info' : ''"
          >Amount<i
            *ngIf="editControls.amount.valid"
            class="material-icons"
            >check_circle</i
          ></label
        >
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div class="input-group-text">
              <i
                class="fas fa-user text-primary mx-auto"
                style="size: 50px;"
              ></i>
            </div>
          </div>
          <input
            id="amount"
            formControlName="amount"
            type="text"
            required
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (editControls.amount.touched ||
                  editControls.amount.dirty) &&
                editControls.amount.errors
            }"
            [ngClass]="setClassInvalid(editControls.amount)"
            placeholder="enter loan amount"
            autocomplete="off"
          />
        </div>
        <div
          class="text-danger col"
          *ngIf="
            (editControls.amount.touched ||
              editControls.amount.dirty) &&
            editControls.amount.errors?.required
          "
        >
          The AMount is required!
        </div>


      </div>

    <!---amount-->

      <!--status-->
      <div class="d-flex my-2 py-2 mx-auto">
        <button
          type="submit"
          class="btn btn-info col-5 mx-auto"
          disable="editLoanForm.invalid"
        >
          save
        </button>

        <button
          type="button"
          class="btn btn-info col-5 mx-auto"
          (click)="closeModal()"
        >
          Cancel
        </button>
        <ngx-spinner class="bg-info" size="medium" type="ball-scale-multiple">
          <p class="text-light">Please wait...</p>
        </ngx-spinner>

        <label class="col" *ngIf="errored" class="text-danger">
          <i class="material-icons">Cancel</i>

          <ngx-alerts></ngx-alerts>
        </label>

        <label class="col" *ngIf="posted" class="text-info">
          <i class="material-icons">check_circle</i>
          <ngx-alerts></ngx-alerts>
        </label>
      </div>
    </form>
        </ng-template>
        <!---edit--loan-->
                    </div>
                    <ng-template #noreceived>
                      <h2>No users yet</h2>
                    </ng-template>

                    <!--reeivedUsers-->



<!-- <div
  class="container-fluid justify-content-center mt-xl-0 mb-0 pt-1 pt-xl-0 pb-2 pb-md-0 shadow-lg col-xs-12 col-lg-12"
>
  <div class="jumbotron-fluid mx-0 px-0 mt-1 mt-xl-0 pt-3 pt-xl-0 mb-0 pb-0">
    <div class="row">
      <div class="col-12">
        <h3 class="rub-head4 text-info text-center font-weight-bold py-1">
          TRANSACTIONS
        </h3>
        <hr class="mt-0" />
      </div>
    </div>
    <div class="row">
      <div class="col-12 mx-0 px-0"> -->
        <!--receiveUsers-->
        <!-- <div class="myn m-4 p-3"> -->
        <!--receivedusers-->
        <!-- <div
          class="length"
          *ngIf="checkTransactionsTable(receivedLoans); else noreceived"
        > -->
          <!--receivedtable-->
          <!-- <form [formGroup]="receiveGroupLoans" (ngSubmit)="onSubmit()">
            <h4 class="text-center text-info mb-2">Received</h4> -->
            <!---table-->
            <!-- <div class="table-col col-12">
              <div class="state-table table-responsive pt-0 pb-0"> -->
                <!--table-->
                <!-- <table class="table table-hover table-striped table-sm">
                  <thead class="bg-dark text-white">
                    <tr class="mx-2">
                      <th>Actions</th>
                      <th scope="col">ID</th>
                      <th scope="col">Customer</th>
                      <th scope="col">Loan Type</th>
                      <th scope="col">Loan Product</th>
                      <th scope="col">Tenure</th>
                      <th scope="col">Amount(shs)</th>
                      <th scope="col">Stage</th>
                      <th scope="col">Status</th>
                      <th scope="col">Loan MovedBy</th>
                      <th scope="col">Stage At</th>
                      <th scope="col">How Long</th>
                      <th scope="col">Created At</th>
                      <th scope="col">Total Age</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      class="mx-2"
                      *ngFor="
                        let control of FormArrayControls.controls;
                        let i = index
                      "
                    >
                      <td>
                        <input
                          type="checkbox"
                          required
                          name="check"
                          [formControl]="control"
                          id="checkbox{{ i }}"
                          (change)="getSelectedLoans(template)"
                        />
                        <label for="checkbox{{ i }}">Receive</label>
                        <p *ngIf="createError">At least Receive One!</p>
                      </td>
                      <td>{{ receivedLoans[i].Id }}</td>
                      <td>{{ receivedLoans[i].Customer }}</td>
                      <td>{{ receivedLoans[i].LoanType }}</td>
                      <td>{{ receivedLoans[i].LoanProduct }}</td>
                      <td>{{ receivedLoans[i].Tenure }}</td>
                      <td>{{ receivedLoans[i].Amount }}</td>
                      <td>{{ receivedLoans[i].Stage }}</td>
                      <td>{{ receivedLoans[i].Status }}</td>
                      <td>{{ receivedLoans[i].LoanMovedBy }}</td>
                      <td>{{ receivedLoans[i].StageAt }}</td>
                      <td>{{ receivedLoans[i].HowLong }}</td>
                      <td>{{ receivedLoans[i].CreatedAt }}</td>
                      <td>{{ receivedLoans[i].TotalAge }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </form>
 -->
          <!--reeivedUsers-->
        <!-- </div> -->
        <!--receiveUsers-->
      <!-- </div>
    </div>
  </div>
</div>
<ng-template #noreceived>
  <div class="col-12 my-5 py-5 justify-content-between">
    <h4 class="text-center text-info">No Transactions Yet!</h4>
  </div>
</ng-template>
<ng-template #template>
  <div class="modal-header bg-info close modal-lg">
    <h4 class="modal-title pull-right text-white-50">
      Comment
    </h4>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="closeModal()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <textarea class="form-control" id="c" height="80"
        placeholder="Comment"
>
      </textarea>
    </div>
  </div>
  <div class="modal-footer">
    <div class="d-flex mt-1 mb-1 pt-1 pb-0 mx-auto">
      <button type="submit" class="btn btn-info mx-2">Forward</button>
      <button type="submit" class="btn btn-info mx-2">Cancel</button>
    </div>
  </div>
</ng-template> -->
<!-- footer -->
<!-- <div class="container mt-3 mt-xl-2 mb-2 pb-2">
  <div class="col-xs-12 col-lg-12">
    <div class="small text-center text-info">&copy; 2020 - LoanLead</div>
  </div>
</div> -->
<!-- footer /-->
