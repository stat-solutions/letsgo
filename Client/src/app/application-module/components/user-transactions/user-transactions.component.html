<div
  class="container-fluid justify-content-center mt-xl-0 mb-0 pt-1 pt-xl-0 pb-2 pb-md-0 shadow-lg col-xs-12"
>
  <div class="jumbotron-fluid mx-0 px-0 mt-1 mt-xl-0 pt-3 pt-xl-0 mb-0 pb-0">
    <div
      class="head-container container my-1 mx-auto px-auto pt-0 pb-2 shadow-lg"
    >
      <div class="row">
        <div class="col-12">
          <label class="col" *ngIf="errored" class="text-danger">
            <!-- <i class="material-icons">Cancel</i> -->

            <ngx-alerts></ngx-alerts>
          </label>

          <label class="col" *ngIf="posted" class="text-info">
            <!-- <i class="material-icons">check_circle</i> -->
            <ngx-alerts></ngx-alerts>
          </label>
          <h3 class="rub-head4 text-info text-center font-weight-bold py-1">
            TRANSACTIONS
          </h3>
          <hr class="mt-0" />
        </div>
      </div>
      <div class="row">
        <div class="col-8 col-sm-7 col-md-8 col-lg-9 col-xl-8">
          <div class="mt-1 mt-xl-0 pt-xl-0 mb-2 mx-0 pl-0 pl-xl-2">
            <!-- the search section -->
            <input
              type="text"
              (input)="getValue($event)"
              class="form-control col-12 col-sm-10 col-md-8 col-lg-7 col-xl-6"
              name=""
              id="loan"
              placeholder="Search"
              autocomplete="on"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 mx-0 px-3 py-2">
        <pagination-controls
          id="my_pages"
          (pageChange)="pageChanged($event)"
          (pageBoundsCorrection)="pageChanged($event)"
          directionLinks="true"
          autoHide="true"
          responsive="true"
        >
        </pagination-controls>
      </div>
      <div class="col-12 mx-0 px-3 py-2">
        <tabset>
          <tab heading="Created Loans" (selectTab)="getCreatedLoans()">
            <!--record container-->
            <div>
              <div
                class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                *ngIf="!filteredLoans.length"
              >
                <div class="col-12 my-5 py-5 justify-content-between">
                  <h4 class="text-center text-info">No Created Loans yet</h4>
                </div>
              </div>
              <div
                class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                *ngIf="filteredLoans.length"
              >
                <div class="iteration">
                  <div class="item-container-1 mt-1">
                    <div
                      class="list-card card mt-1 pt-2 mb-0 mx-auto px-0 pb-0 shadow-lg"
                      *ngFor="
                        let loans of filteredLoans
                          | paginate
                            : {
                                id: 'my_pages',
                                itemsPerPage: pageSize,
                                currentPage: currentPage,
                                totalItems: totalItems
                              };
                        let i = index
                      "
                    >
                      <div class="list-card-body card-body my-0 py-0 mx-0 px-0">
                        <div class="row my-0 pt-md-0 pb-md-1 mx-md-0 px-md-0">
                          <div
                            class="col-2 col-md-1 pl-2 pr-0 mx-md-0 px-md-0 d-flex justify-content-center"
                          >
                            <div class="dropdown">
                              <button
                                class="btn btn-outline-primary dropdown-toggle"
                                id="dropdownMenuButton"
                                data-toggle="dropdown"
                                aria-haspopup="true"
                                aria-expanded="false"
                                tooltip="Options"
                              >
                                <i
                                  class="fas fa-ellipsis-v fa-2x text-info"
                                ></i>
                              </button>
                              <div
                                class="dropdown-menu"
                                aria-labelledby="dropdownMenuButton"
                              >
                                <a
                                  class="dropdown-item pointerCursor text-primo"
                                  (click)="
                                        openComment(
                                          loans,
                                          template,
                                          'Forward'
                                        )
                                      "
                                >
                                  Forward
                                </a>
                                <a
                                  class="dropdown-item pointerCursor text-primo"
                                  (click)="openComment(loans, edit, 'Edit')"
                                  ><i class="fas fa-edit"></i>
                                  Edit
                                </a>
                              </div>
                            </div>
                          </div>
                          <div class="col-10 col-md-11 mx-lg-0 px-lg-0">
                            <div class="row mx-md-0 px-md-0">
                              <div
                                class="col-12 col-md-6 col-xl-3 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">ID:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerIdNumber }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-5 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-md-3 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Customer:</span>
                                  </div>
                                  <div
                                    class="col-8 col-md-9 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerName }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Type:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdType }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Product:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdProduct }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Tenure:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanTenure }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Amount:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanAmount | number }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Stage:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.movementStage }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Mov't Status:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.movementStatus === 1
                                          ? "CREATED"
                                          : loans.movementStatus === 2
                                          ? "FOWARDED"
                                          : loans.movementStatus === 3
                                          ? "RECEIVED"
                                          : loans.movementStatus === 4
                                          ? "DISBURSED"
                                          : "DEFFERED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">TransactionStatus:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.transactionStatus === 0
                                          ? "NONE"
                                          : loans.transactionStatus === 1
                                          ? "APPROVED"
                                          : loans.transactionStatus === 2
                                          ? "DEFERED"
                                          : loans.transactionStatus === 3
                                          ? "REJECETED"
                                          : "RECTIFIED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Moved by:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        !loans.movedBy ? "NONE" : loans.movedBy
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceMovement }} Hours
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Created At:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanCreationDate }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Total Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceCreation }} Days
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--/ end of record container-->
          </tab>
          <tab heading="Deferred Loans" (selectTab)="getdefferedLoans()">
            <div class="mt-2 mx-sm-2">
              <tabset>
                <!-- (click)="branchApprovalForwardedLoans()" -->
                <tab heading="Receive Loans" (selectTab)="getdefferedLoans()">
                  <div>
                    <!--record container-->
                    <div
                      class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                      *ngIf="!filteredLoans.length"
                    >
                      <div class="col-12 my-5 py-5 justify-content-between">
                        <h4 class="text-center text-info">
                          No Deferred Loans yet
                        </h4>
                      </div>
                    </div>
                    <div
                      class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                      *ngIf="filteredLoans.length"
                    >
                      <div class="col-12">
                        <button
                          class="btn btn-primary my-2"
                          (click)="receive('None', 'All')"
                        >
                          Receive All
                        </button>
                      </div>
                      <div class="iteration">
                        <div class="item-container-1 mt-1">
                          <div
                            class="list-card card mt-1 pt-2 mb-0 mx-auto px-0 pb-0 shadow-lg"
                            *ngFor="
                              let loans of filteredLoans
                                | paginate
                                  : {
                                      id: 'my_pages',
                                      itemsPerPage: pageSize,
                                      currentPage: currentPage,
                                      totalItems: totalItems
                                    };
                              let i = index
                            "
                          >
                            <div
                              class="list-card-body card-body my-0 py-0 mx-0 px-0"
                            >
                              <div
                                class="row my-0 pt-md-0 pb-md-1 mx-md-0 px-md-0"
                              >
                                <div
                                  class="col-3 col-sm-2 col-lg-1 d-flex flex-column justify-content-center pl-4 pr-0 pl-sm-3 px-md-2 mx-md-0"
                                >
                                  <button
                                    class="btn btn-info mx-md-0 px-0 py-1"
                                    (click)="receive(loans, 'One')"
                                  >
                                    Receive
                                  </button>
                                </div>
                                <div class="col-9 col-sm-10 col-lg-11 mx-md-0">
                                  <div class="row mx-md-0 px-md-0">
                                    <div
                                      class="col-12 col-md-6 col-xl-3 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">ID:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.customerIdNumber }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-5 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Customer:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.customerName }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Loan Type:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanThresholdType }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Loan Product:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanThresholdProduct }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Tenure:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanTenure }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Amount:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanAmount | number }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Stage:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.movementStage }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Mov't Status:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{
                                              loans.movementStatus === 1
                                                ? "CREATED"
                                                : loans.movementStatus === 2
                                                ? "FOWARDED"
                                                : loans.movementStatus === 3
                                                ? "RECEIVED"
                                                : loans.movementStatus === 4
                                                ? "DISBURSED"
                                                : "DEFFERED"
                                            }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class=""
                                            >Trasaction Status:</span
                                          >
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{
                                              loans.transactionStatus === 0
                                                ? "NONE"
                                                : loans.transactionStatus === 1
                                                ? "APPROVED"
                                                : loans.transactionStatus === 2
                                                ? "DEFERED"
                                                : loans.transactionStatus === 3
                                                ? "REJECETED"
                                                : "RECTIFIED"
                                            }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Moved by:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{
                                              !loans.movedBy
                                                ? "NONE"
                                                : loans.movedBy
                                            }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Age:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.ageSinceMovement }} Hours
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Created At:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanCreationDate }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div
                                      class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                                    >
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Total Age:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.ageSinceCreation }} Days
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0">
                                      <div class="row">
                                        <div
                                          class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                        >
                                          <span class="">Action Comment:</span>
                                        </div>
                                        <div
                                          class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold"
                                        >
                                          <span class="itemCreated">
                                            {{ loans.loanActionComment }}
                                          </span>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--/ end of record container-->
                  </div>
                </tab>
                <tab heading="Action" (selectTab)="getReceivedDefferedLoans()">
                  <!---forward users-->
                  <div>
                    <!--record container-->
                    <div
                      class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                      *ngIf="!filteredLoans.length"
                    >
                      <div class="col-12 my-5 py-5 justify-content-between">
                        <h4 class="text-center text-info">
                          No Deferred Loans Received yet
                        </h4>
                      </div>
                    </div>
                    <div
                      class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                      *ngIf="filteredLoans.length"
                    >
                      <div class="iteration">
                        <div class="item-container-1 mt-1">
                          <div
                            class="list-card card mt-1 pt-2 mb-0 mx-auto px-0 pb-0 shadow-lg"
                            *ngFor="
                              let loans of filteredLoans
                                | paginate
                                  : {
                                      id: 'my_pages',
                                      itemsPerPage: pageSize,
                                      currentPage: currentPage,
                                      totalItems: totalItems
                                    };
                              let i = index
                            "
                          >
                            <div
                              class="list-card-body card-body my-0 py-0 mx-0 px-0"
                            >
                              <div
                                class="row my-0 pt-md-0 pb-md-1 mx-md-0 px-md-0"
                              >
                                <div
                                  class="col-2 col-md-1 pl-2 pr-0 mx-md-0 px-md-0 d-flex justify-content-center"
                                >
                                  <div class="dropdown">
                                    <button
                                      class="btn btn-outline-primary dropdown-toggle"
                                      id="dropdownMenuButton"
                                      data-toggle="dropdown"
                                      aria-haspopup="true"
                                      aria-expanded="false"
                                      tooltip="Options"
                                    >
                                      <i
                                        class="fas fa-ellipsis-v fa-2x text-info"
                                      ></i>
                                    </button>
                                    <div
                                      class="dropdown-menu"
                                      aria-labelledby="dropdownMenuButton"
                                    >
                                      <a
                                        class="dropdown-item text-primo-1 pointerCursor"
                                        (click)="
                                          openComment(loans, edit, 'Rectify')
                                        "
                                        ><i class="fas fa-check"></i>

                                        Rectify
                                      </a>
                                    </div>
                                  </div>
                                </div>
                          <div class="col-10 col-md-11 mx-lg-0 px-lg-0">
                            <div class="row mx-md-0 px-md-0">
                              <div
                                class="col-12 col-md-6 col-xl-3 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">ID:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerIdNumber }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-5 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-md-3 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Customer:</span>
                                  </div>
                                  <div
                                    class="col-8 col-md-9 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerName }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Type:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdType }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Product:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdProduct }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Tenure:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanTenure }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Amount:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanAmount | number }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Stage:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.movementStage }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Mov't Status:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.movementStatus === 1
                                          ? "CREATED"
                                          : loans.movementStatus === 2
                                          ? "FOWARDED"
                                          : loans.movementStatus === 3
                                          ? "RECEIVED"
                                          : loans.movementStatus === 4
                                          ? "DISBURSED"
                                          : "DEFFERED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">TransactionStatus:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.transactionStatus === 0
                                          ? "NONE"
                                          : loans.transactionStatus === 1
                                          ? "APPROVED"
                                          : loans.transactionStatus === 2
                                          ? "DEFERED"
                                          : loans.transactionStatus === 3
                                          ? "REJECETED"
                                          : "RECTIFIED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Moved by:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        !loans.movedBy ? "NONE" : loans.movedBy
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceMovement }} Hours
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Created At:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanCreationDate }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Total Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceCreation }} Days
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--/ end of record container-->
                  </div>
                </tab>
                <tab
                  heading="Rectified Loans"
                  (selectTab)="getRectifiedDefferredLoans()"
                >
                  <!--record container-->
                  <div
                    class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                    *ngIf="!filteredLoans.length"
                  >
                    <div class="col-12 my-5 py-5 justify-content-between">
                      <h4 class="text-center text-info">
                        No Rectified Loans yet
                      </h4>
                    </div>
                  </div>
                  <div
                    class="invest-card card mt-1 py-2 mb-2 mx-auto px-2 shadow-lg"
                    *ngIf="filteredLoans.length"
                  >
                    <div class="iteration">
                      <div class="item-container-1 mt-1">
                        <div
                          class="list-card card mt-1 pt-2 mb-0 mx-auto px-0 pb-0 shadow-lg"
                          *ngFor="
                            let loans of filteredLoans
                              | paginate
                                : {
                                    id: 'my_pages',
                                    itemsPerPage: pageSize,
                                    currentPage: currentPage,
                                    totalItems: totalItems
                                  };
                            let i = index
                          "
                        >
                          <div
                            class="list-card-body card-body my-0 py-0 mx-0 px-0"
                          >
                            <div
                              class="row my-0 pt-md-0 pb-md-1 mx-md-0 px-md-0"
                            >
                              <div
                                class="col-2 col-md-1 pl-2 pr-0 mx-md-0 px-md-0 d-flex justify-content-center"
                              >
                                <div class="dropdown">
                                  <button
                                    class="btn btn-outline-primary dropdown-toggle"
                                    id="dropdownMenuButton"
                                    data-toggle="dropdown"
                                    aria-haspopup="true"
                                    aria-expanded="false"
                                    tooltip="Options"
                                  >
                                    <i
                                      class="fas fa-ellipsis-v fa-2x text-info"
                                    ></i>
                                  </button>
                                  <div
                                    class="dropdown-menu"
                                    aria-labelledby="dropdownMenuButton"
                                  >
                                    <a
                                      class="dropdown-item pointerCursor text-primo"
                                      (click)="
                                        openComment(
                                          loans,
                                          template,
                                          'Rectified'
                                        )
                                      "
                                    >
                                      Forward
                                    </a>
                                  </div>
                                </div>
                              </div>
                          <div class="col-10 col-md-11 mx-lg-0 px-lg-0">
                            <div class="row mx-md-0 px-md-0">
                              <div
                                class="col-12 col-md-6 col-xl-3 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">ID:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerIdNumber }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-5 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-md-3 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Customer:</span>
                                  </div>
                                  <div
                                    class="col-8 col-md-9 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.customerName }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Type:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdType }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Loan Product:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanThresholdProduct }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Tenure:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanTenure }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Amount:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanAmount | number }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Stage:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-0 px-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.movementStage }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Mov't Status:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.movementStatus === 1
                                          ? "CREATED"
                                          : loans.movementStatus === 2
                                          ? "FOWARDED"
                                          : loans.movementStatus === 3
                                          ? "RECEIVED"
                                          : loans.movementStatus === 4
                                          ? "DISBURSED"
                                          : "DEFFERED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">TransactionStatus:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        loans.transactionStatus === 0
                                          ? "NONE"
                                          : loans.transactionStatus === 1
                                          ? "APPROVED"
                                          : loans.transactionStatus === 2
                                          ? "DEFERED"
                                          : loans.transactionStatus === 3
                                          ? "REJECETED"
                                          : "RECTIFIED"
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Moved by:</span>
                                  </div>
                                  <div
                                    class="col-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{
                                        !loans.movedBy ? "NONE" : loans.movedBy
                                      }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceMovement }} Hours
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 col-xl-4 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Created At:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 col-xl-8 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanCreationDate }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div
                                class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0"
                              >
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Total Age:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold mx-md-0 px-md-0"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.ageSinceCreation }} Days
                                    </span>
                                  </div>
                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-xl-4 mx-md-0 px-md-0">
                                <div class="row">
                                  <div
                                    class="col-5 col-md-4 col-lg-3 d-flex justify-content-start mx-md-0 px-md-0"
                                  >
                                    <span class="">Action Comment:</span>
                                  </div>
                                  <div
                                    class="col-7 col-md-8 col-lg-9 d-flex justify-content-start font-weight-bold"
                                  >
                                    <span class="itemCreated">
                                      {{ loans.loanActionComment }}
                                    </span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--/ end of record container-->
                </tab>
              </tabset>
            </div>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</div>
<!--forward loan--->
<ng-template #template>
  <div class="modal-header bg-info modal-lg">
    <h4 class="modal-title text-white-75">{{ actionType }} Loan</h4>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="closeModal()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group text-primary" [formGroup]="comment">
      <textarea
        name="arae"
        formControlName="comments"
        id=""
        class="form-control"
        rows="5"
        placeholder="Comment"
        (keyup.enter)="finalizeAction(commentControls.comments.value)"
      ></textarea>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="submit"
      class="btn btn-info"
      (click)="finalizeAction(commentControls.comments.value)"
      [disabled]="!comment.valid"
    >
      OK
    </button>
    <button  class="btn btn-info" (click)="closeModal()">
      Cancel
    </button>
  </div>
</ng-template>

<!---edit loan-->
<ng-template #edit>
  <div class="modal-header bg-info modal-lg">
    <h4 class="modal-title text-white-75">{{ actionType }} Loan</h4>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="closeModal()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!--edit form-->
  <div class="modal-body">
    <div class="card-body mt-2 pt-3 mt-xl-1 mb-1 mx-auto pb-4 shadow-lg">
      <form [formGroup]="editLoanForm">
        <!--create a customer modal-->
        <div class="form-group text-primary">
          <label
            for="customerName"
            [ngClass]="editControls.customerName.valid ? 'text-info' : ''"
            ><i *ngIf="editControls.customerName.valid" class="material-icons"
              >check_circle</i
            >Customer name</label
          >
          <div class="input-group mb-0">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i class="fas fa-user text-primary mx-auto" style="size: 50px">
                </i>
              </div>
            </div>
            <input
              id="customerName"
              formControlName="customerName"
              type="text"
              required
              class="form-control"
              [ngClass]="{
                'is-invalid':
                  (editControls.customerName.touched ||
                    editControls.customerName.dirty) &&
                  editControls.customerName.errors
              }"
              placeholder="Edit Customer name"
              autocomplete="off"
            />
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.customerName.touched ||
                editControls.customerName.dirty) &&
              editControls.customerName.errors?.required
            "
          >
            The customer name is required
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.customerName.touched ||
                editControls.customerName.dirty) &&
              editControls.customerName.errors?.minlength
            "
          >
            At least four characters are required
          </div>
        </div>

        <div class="form-group text-primary">
          <label
            for="loanType"
            [ngClass]="editControls.loanType.valid ? 'text-info' : ''"
            >Loan Type<i
              *ngIf="editControls.loanType.valid"
              class="material-icons"
              >check_circle</i
            ></label
          >
          <div class="input-group mb-0">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i
                  class="fas fa-anchor text-primary mx-auto"
                  style="size: 50px"
                >
                </i>
              </div>
            </div>
            <select
              formControlName="loanType"
              class="form-control"
              [ngClass]="{
                'is-invalid':
                  (editControls.loanType.touched ||
                    editControls.loanType.dirty) &&
                  editControls.loanType.errors?.required
              }"
              autocomplete="off"
              placeholder="Select a loan"
              required
              (change)="setMaxtenureAndAmount(editControls.loanType.value)"
            >
              <option value="" selected disabled>Select Loan Threshold</option>
              <option *ngFor="let loan_type of loanTypes">
                {{ loan_type.loanThresholdType }}
              </option>
            </select>
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.loanType.touched || editControls.loanType.dirty) &&
              editControls.loanType.errors?.required
            "
          >
            The loan type is required
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.loanType.touched || editControls.loanType.dirty) &&
              editControls.loanType.errors?.required
            "
          >
            Please enter valid loan type
          </div>
        </div>
        <div class="form-group text-primary">
          <label
            for="tenure"
            [ngClass]="editControls.tenure.valid ? 'text-info' : ''"
            >Tenure<i *ngIf="editControls.tenure.valid" class="material-icons"
              >check_circle</i
            ></label
          >
          <div class="input-group mb-0">
            <div class="input-group-prepend">
              <div class="input-group-text">
                <i
                  class="fas fa-anchor text-primary mx-auto"
                  style="size: 50px"
                >
                </i>
              </div>
            </div>
            <input
              id="tenure"
              formControlName="tenure"
              type="number"
              required
              class="form-control"
              (blur)="checkTenureAndAmount($event)"
              [ngClass]="setClassInvalid(editControls.tenure)"
              placeholder="Enter loan tenure"
              autocomplete="off"
            />
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.tenure.touched || editControls.tenure.dirty) &&
              editControls.tenure.errors?.required
            "
          >
            The loan tenure is required
          </div>
        </div>
        <!--amount--->

        <div class="form-group text-primary">
          <label
            for="amount"
            [ngClass]="editControls.amount.valid ? 'text-info' : ''"
            >Amount<i *ngIf="editControls.amount.valid" class="material-icons"
              >check_circle</i
            ></label
          >
          <div class="input-group mb-0">
            <input
              id="amount"
              formControlName="amount"
              type="text"
              required
              class="form-control"
              (keyup)="onKey($event)"
              (blur)="checkTenureAndAmount($event)"
              [ngClass]="{
                'is-invalid':
                  (editControls.amount.touched || editControls.amount.dirty) &&
                  editControls.amount.errors
              }"
              [ngClass]="setClassInvalid(editControls.amount)"
              placeholder="Enter loan amount"
              autocomplete="off"
            />
          </div>
          <div
            class="text-danger"
            *ngIf="
              (editControls.amount.touched || editControls.amount.dirty) &&
              editControls.amount.errors?.required
            "
          >
            The loan amount is required
          </div>
          <div
            class="text-danger col"
            *ngIf="
              (editControls.amount.touched || editControls.amount.dirty) &&
              editControls.amount.errors?.hasNumber
            "
          >
            Please enter valid amount to borrow
          </div>
        </div>
        <div class="d-flex my-2 py-2 mx-auto">
          <button
            type="submit"
            class="btn btn-info col-5 mx-auto"
            (click)="editOrRectify(template, edit)"
            [disabled]="!editLoanForm.valid"
            (keyup.enter)="finalizeAction(commentControls.comments.value)"
          >
            OK
          </button>

          <button
            type="button"
            class="btn btn-info col-5 mx-auto"
            (click)="closeModal()"
          >
            Cancel
          </button>
          <ngx-spinner class="bg-info" size="medium" type="ball-scale-multiple">
            <p class="text-light">Please wait...</p>
          </ngx-spinner>
        </div>
      </form>
    </div>
  </div>
</ng-template>
<ng-template #noreceived>
  <div class="col-12 my-5 py-5 justify-content-between">
    <h4 class="text-center text-info">No Loans yet</h4>
  </div>
</ng-template>
